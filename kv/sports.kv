#:import dp kivy.metrics.dp

# Card de esporte (clicável) — MRO corrigido: MDCard + ButtonBehavior
<SportOptionCard@MDCard+ButtonBehavior>:
    key: ""
    title: ""
    right_icon: "star"
    right_color: 0.9, 0.9, 0.9, 1
    is_selected: False

    size_hint_x: 1
    size_hint_y: None
    height: dp(74)
    radius: [16, 16, 16, 16]
    md_bg_color: 1, 1, 1, 1
    elevation: 1
    ripple_behavior: True

    on_release: root.toggle(root.key)

    MDBoxLayout:
        orientation: "horizontal"
        padding: dp(14), 0, dp(14), 0
        spacing: dp(12)

        # Radio (esquerda)
        MDIcon:
            icon: "check-circle" if root.is_selected else "circle-outline"
            theme_text_color: "Custom"
            text_color: (0.07,0.07,0.07,1) if root.is_selected else (0.15,0.15,0.15,1)
            size_hint: None, None
            size: dp(28), dp(28)
            pos_hint: {"center_y": 0.5}

        MDLabel:
            text: root.title
            bold: True
            font_style: "H6"
            halign: "left"
            valign: "middle"

        MDCard:
            size_hint: None, None
            size: dp(44), dp(44)
            radius: [12, 12, 12, 12]
            md_bg_color: root.right_color
            elevation: 0

            MDIcon:
                icon: root.right_icon
                halign: "center"
                valign: "middle"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1


<ChooseSportsScreen>:
    ScrollView:
        do_scroll_x: False

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: self.minimum_height
            padding: dp(20), dp(24), dp(20), dp(24)   # 20px laterais
            spacing: dp(16)

            # Logo
            AnchorLayout:
                size_hint_y: None
                height: dp(56)
                anchor_x: "center"
                anchor_y: "center"
                Image:
                    source: "assets/images/logo_jogamos.jpg"
                    allow_stretch: True
                    keep_ratio: True
                    size_hint: None, None
                    height: dp(40)
                    width: dp(120)

            # Título
            MDLabel:
                text: "Seus esportes\nfavoritos"
                font_style: "H4"
                bold: True
                halign: "left"
                size_hint_y: None
                text_size: self.width, None
                height: self.texture_size[1]

            # Subtítulo
            MDLabel:
                text: "Já vamos começar. Para melhorar sua experiência,\nescolha 3 esportes que você ama ou quer\nconhecer melhor."
                theme_text_color: "Secondary"
                font_size: "13sp"
                halign: "left"
                size_hint_y: None
                text_size: self.width, None
                height: self.texture_size[1]

            MDLabel:
                size_hint_y: None
                height: dp(8)

            # Cards
            SportOptionCard:
                id: card_badminton
                key: "badminton"
                title: "BADMINTON"
                right_icon: "tennis"
                right_color: 0.62, 0.87, 0.92, 1

            SportOptionCard:
                id: card_basquete
                key: "basquete"
                title: "BASQUETE"
                right_icon: "basketball"
                right_color: 0.00, 0.78, 0.47, 1

            SportOptionCard:
                id: card_bmx
                key: "bmx"
                title: "BMX"
                right_icon: "bike"
                right_color: 0.62, 0.20, 0.84, 1

            SportOptionCard:
                id: card_caminhada
                key: "caminhada"
                title: "CAMINHADA"
                right_icon: "walk"
                right_color: 1.00, 0.62, 0.22, 1

            SportOptionCard:
                id: card_corrida
                key: "corrida"
                title: "CORRIDA"
                right_icon: "run"
                right_color: 0.98, 0.20, 0.24, 1

            MDLabel:
                size_hint_y: None
                height: dp(10)

            # Botão "Tudo pronto!" (usa o componente do theme.kv)
            BottomBlackButton:
                id: btn_done
                disabled: True
                on_release: root.finish()

                MDBoxLayout:
                    padding: dp(16), 0
                    MDLabel:
                        text: "Tudo pronto!"
                        halign: "center"
                        color: 1, 1, 1, 1
                        bold: True