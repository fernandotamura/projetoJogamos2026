# ====== TOKENS LOGIN ======
#:import dp kivymd.material_resources.dp
#:import FocusBehavior kivy.uix.behaviors.focus.FocusBehavior


<FocusPrimaryButton@FocusBehavior+MDButton>:
    size_hint_y: None
    size_hint_x: 1
    height: dp(56)
    style: "filled"
    md_bg_color: 0.117, 0.227, 0.996, 1   # azul do tema
    text_color: 1, 1, 1, 1
    radius: [24, 24, 24, 24]
    elevation: 4
    on_focus:
        self.md_bg_color = (0.10, 0.20, 0.88, 1) if self.focus else (0.117, 0.227, 0.996, 1)


<LoginMaxWidthBox@MDBoxLayout>:
    size_hint_x: None
    # usa a largura do PAI (sem auto‑referência); ajuste 390→360 se seu Figma for 360dp
    width: min(root.parent.width - dp(40) if root.parent else dp(390), dp(390))
    size_hint_y: None
    height: self.minimum_height
    padding: dp(20)
    spacing: dp(16)

# Card “container” (opcional; no nosso layout ficou transparente)
<LoginCard@MDCard>:
    size_hint_x: 1
    size_hint_y: None
    height: self.minimum_height
    radius: [24, 24, 24, 24]
    padding: dp(20)
    elevation: 0
    md_bg_color: 1, 1, 1, 0

# Título e subtítulo
<LoginTitle@MDLabel>:
    font_style: "Title"
    role: "large"
    halign: "left"
    size_hint_y: None
    height: self.texture_size[1]

<LoginSubtitle@MDLabel>:
    theme_text_color: "Secondary"
    font_size: "13sp"
    halign: "left"
    size_hint_y: None
    text_size: self.width, None
    height: self.texture_size[1]

# BOTÃO AZUL (Login) — focável (para focus_next funcionar)
<LoginCtaButton@FocusBehavior+MDButton>:
    size_hint_y: None
    height: dp(56)
    size_hint_x: 1
    style: "filled"
    md_bg_color: 0.039, 0.220, 1.0, 1     # #0A38FF
    text_color: 1, 1, 1, 1
    radius: [24, 24, 24, 24]
    elevation: 4

# BOTÃO SOCIAL PRETO
<SocialBlackButton@MDCard+ButtonBehavior>:
    size_hint_y: None
    size_hint_x: 1
    height: dp(56)
    radius: [24, 24, 24, 24]
    md_bg_color: 0.07, 0.07, 0.07, 1
    elevation: 3
    ripple_behavior: True

# Separador “ou”
<DividerWithTextThin@MDBoxLayout>:
    text: "ou"
    orientation: "horizontal"
    size_hint_y: None
    height: dp(28)
    padding: dp(12), 0
    spacing: dp(12)
    MDDivider:
        height: dp(1)
    MDLabel:
        text: root.text
        halign: "center"
        theme_text_color: "Secondary"
        size_hint_x: None
        width: dp(40)
    MDDivider:
        height: dp(1)

# ------------------------
# Tipografia (usada em Signup/Forgot/Verify também)
# ------------------------
<Headline@MDLabel>:
    font_style: "Title"
    role: "medium"
    halign: "left"

<Subtle@MDLabel>:
    theme_text_color: "Secondary"
    font_size: "13sp"
    halign: "left"

# ------------------------
# TextField (classe Python + composição MD3)
# ------------------------
<JogamosTextField>:
    size_hint_y: None
    height: dp(56)
    mode: "outlined"     # ou "filled"
    multiline: False

    MDTextFieldHintText:
        text: root.hint_text if hasattr(root, "hint_text") else ""

    MDTextFieldHelperText:
        text: root.helper_text if hasattr(root, "helper_text") else ""
        mode: "persistent"

    # Ícones opcionais (use quando precisar):
    # MDTextFieldLeadingIcon: icon: "account"
    # MDTextFieldTrailingIcon: icon: "information"

# ------------------------
# Campo de texto para telas de Auth (template KV)
# ------------------------
<AuthTextField@MDTextField>:
    size_hint_y: None
    height: dp(56)
    mode: "outlined"
    multiline: False
    write_tab: False
    # root props primeiro:
    line_color_focus: 0.117, 0.227, 0.996, 1
    text_color: 0.07, 0.07, 0.07, 1
    # subwidgets:
    MDTextFieldHintText:
        text: root.hint_text if hasattr(root, "hint_text") else ""
    MDTextFieldHelperText:
        text: root.helper_text if hasattr(root, "helper_text") else ""
        mode: "persistent"